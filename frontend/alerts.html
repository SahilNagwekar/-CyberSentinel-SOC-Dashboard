<!DOCTYPE html>
<html>
<head>
<title>CyberSentinel â€“ Alerts</title>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">

<style>
body{
  background: radial-gradient(circle at top, #0a0f25, #020617);
  color:white;
  font-family: "Poppins", Arial;
  position: relative;
}

/* Background watermark */
body::after{
  content:"CYBERSENTINEL";
  position: fixed;
  top:50%;
  left:50%;
  transform: translate(-50%,-50%) rotate(-18deg);
  font-size: 120px;
  color:#00ffee08;
  font-weight: 900;
  letter-spacing: 8px;
  user-select:none;
  pointer-events:none;
  z-index:1;
}

.navbar{
  background:#000000c7;
  border-bottom:1px solid #1f2937;
  z-index:10;
}

.card{
  background:linear-gradient(145deg,#0f172a,#020617);
  border-radius:16px;
  border:1px solid #1f2937;
  box-shadow:0 0 25px #00fff218;
  position: relative;
  z-index:10;
}

.alert-box{
  border-bottom:1px solid #1f2937;
  padding:12px;
}

.alert-box:hover{
  background:#0f172a;
}

.high{ color:#ff1744;font-weight:bold;text-shadow:0 0 10px #ff0022; }
.medium{ color:#ffaa00; }
.low{ color:#00ffaa; }

/* Corner watermark */
.watermark{
  position: fixed;
  bottom: 12px;
  right: 15px;
  color: #00ffee99;
  font-size: 14px;
  letter-spacing: .6px;
  font-weight: 600;
  pointer-events: none;
  user-select:none;
}
.watermark:hover{ color:#00ffee; }
</style>
</head>

<body>

<nav class="navbar px-4 py-3 d-flex justify-content-between">
  <h3 class="fw-bold">ðŸš¨ CyberSentinel â€“ Alerts</h3>

  <div>
    <a href="index.html" class="btn btn-light btn-sm">Dashboard</a>
    <a href="alerts.html" class="btn btn-danger btn-sm">Alerts</a>
    <a href="logs.html" class="btn btn-secondary btn-sm">Logs</a>
    <a href="map.html" class="btn btn-success btn-sm">Attack Map</a>
  </div>
</nav>

<div class="container py-4">
  <div class="card p-3">
    <h4>Active Alerts</h4>
    <small class="text-muted">Real threat intelligence & detection alerts</small>

    <div id="alertList" class="mt-3"></div>
  </div>
</div>

<div class="watermark">âš¡ Built by Sahil | CyberSentinel</div>

<script src="assets/app.js"></script>

<script>
async function loadAlerts(){
  const alerts = await fetchAlerts();
  const container = document.getElementById("alertList");
  container.innerHTML = "";

  alerts.forEach(a => {
    const sevClass = a.severity === "high" ? "high" :
                     a.severity === "medium" ? "medium" : "low";

    const box = document.createElement("div");
    box.className="alert-box";

    box.innerHTML = `
      <div class="d-flex justify-content-between">
        <div>
          <strong class="${sevClass}">${a.severity?.toUpperCase()}</strong>
          <span class="text-info ms-2">${a.event_type || "Unknown Event"}</span>
          <div class="text-muted small">${a.timestamp}</div>
        </div>
        <div class="text-warning">
          ${a.source_ip || "N/A"} âžœ ${a.dest_ip || "-"}
        </div>
      </div>`;
    
    container.appendChild(box);
  });
}

loadAlerts();
setInterval(loadAlerts,3000);
</script>

</body>
</html>
