<!DOCTYPE html>
<html>
<head>
<title>CyberSentinel â€“ Logs</title>
<link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css">

<style>
body{
  background: radial-gradient(circle at top,#0a0f25,#020617);
  color:white;
  font-family:"Poppins";
  position: relative;
}

body::after{
  content:"CYBERSENTINEL";
  position: fixed;
  top:50%;
  left:50%;
  transform: translate(-50%,-50%) rotate(-18deg);
  font-size: 120px;
  color:#00ffee08;
  font-weight: 900;
  letter-spacing: 8px;
  user-select:none;
  pointer-events:none;
}

.navbar{
  background:#000000c7;
  border-bottom:1px solid #1f2937;
}

.card{
  background:linear-gradient(145deg,#0f172a,#020617);
  border-radius:16px;
  border:1px solid #1f2937;
  box-shadow:0 0 25px #00fff218;
}

.log-row{
  border-bottom:1px solid #1f2937;
  padding:10px;
}

.log-row:hover{
  background:#0f172a;
}

.type{
  color:#00ffee;
}

/* watermark */
.watermark{
  position: fixed;
  bottom: 12px;
  right: 15px;
  color: #00ffee99;
  font-size: 14px;
  letter-spacing: .6px;
  font-weight: 600;
  pointer-events: none;
  user-select:none;
}
</style>
</head>

<body>

<nav class="navbar px-4 py-3 d-flex justify-content-between">
  <h3 class="fw-bold">ðŸ“œ CyberSentinel â€“ Logs</h3>

  <div>
    <a href="index.html" class="btn btn-light btn-sm">Dashboard</a>
    <a href="alerts.html" class="btn btn-danger btn-sm">Alerts</a>
    <a href="logs.html" class="btn btn-secondary btn-sm">Logs</a>
    <a href="map.html" class="btn btn-success btn-sm">Attack Map</a>
  </div>
</nav>

<div class="container py-4">
  <div class="card p-3">
    <h4>Log Events</h4>
    <small class="text-muted">Streaming system & threat logs</small>

    <div id="logs"></div>
  </div>
</div>

<div class="watermark">âš¡ Built by Sahil | CyberSentinel</div>

<script src="assets/app.js"></script>

<script>
async function loadLogs(){
  const data = await fetchLogs();
  const container = document.getElementById("logs");
  container.innerHTML = "";

  data.slice().reverse().forEach(l => {
    const row = document.createElement("div");
    row.className = "log-row";

    row.innerHTML = `
      <div class="d-flex justify-content-between">
        <div>
          <strong class="type">${l.event_type || "log"}</strong>
          <span class="text-warning">${l.source || ""}</span>
          <div class="text-muted small">${l.timestamp}</div>
        </div>
        <div class="text-info">
          ${l.source_ip || "-"} âžœ ${l.dest_ip || "-"}
        </div>
      </div>
    `;

    container.appendChild(row);
  });
}

loadLogs();
setInterval(loadLogs, 3000);
</script>

</body>
</html>
